<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="../../layui/css/layui.css">
  <link rel="stylesheet" href="../../css/content-style.css">
  <script src="../../js/jquery-3.4.1.min.js"></script>
  <script src="../../js/echarts.min.js"></script>
  <script src="http://echarts.baidu.com/examples/vendors/echarts/map/js/china.js"></script>
  <script src="http://gallerybox.echartsjs.com/dep/echarts/latest/extension/bmap.min.js"></script>
  <script src="../../layui/layui.js"></script>
  <script src="http://api.map.baidu.com/api?v=3.0&ak=haPEFmhfSCqqoQ64VTLtkiVTZBQsqFs3"></script>
</head>
<body>
  <nav>
    <div class="logo">
      <img src="../../images/logo .png" alt="">
      <p>地质调查项目<br>
        质量风险评估</p>
    </div>
    <ul class="layui-nav layui-nav-tree layui-nav-side">
      <li class="layui-nav-item"><a href="../../index.html">首页</a></li>
      <li class="layui-nav-item"><a href="../message.html">信息查询</a></li>
      <li class="layui-nav-item"><a href="../setting.html">指标与权重设置</a></li>
      <li class="layui-nav-item"><a class="active" href="../analysis_1/analysis_1_1.html">单项指标分析</a></li>
      <li class="layui-nav-item"><a href="../evaluation.html">综合分析评估</a></li>
      <li class="layui-nav-item"><a href="../system.html">系统管理</a></li>
    </ul>
  </nav>
  <div class="content">
    <div class="header">
      <ul class="second-tab">
        <li><a href="../analysis_1/analysis_1_1.html">部署与实施</a></li>
        <li class="active"><a href="./analysis_2_1.html">工作进度</a></li>
        <li><a href="../analysis_3/analysis_3_1.html">原始资料</a></li>
        <li><a href="../analysis_4/analysis_4_1.html">质量控制</a></li>
        <li><a href="../analysis_5/analysis_5_1.html">人员时间投入</a></li>
      </ul>
      <div class="user">
        <a href="javascript:;" class="ring"></a>
        <div class="user-pic"></div>
        <div class="user-info">
          <p>Admin</p>
          <p>超级管理员</p>
        </div>
      </div>
    </div>
    <div class="layui-tab layui-tab-brief">
      <ul class="layui-tab-title">
        <li><a href="./analysis_2_1.html">填图面积</a></li>
        <li><a href="./analysis_2_2.html">化探工程</a></li>
        <li><a href="./analysis_2_3.html">物探工程</a></li>
        <li><a href="./analysis_2_4.html">钻孔工程</a></li>
        <li><a href="./analysis_2_5.html">坑探工程</a></li>
        <li><a href="./analysis_2_6.html">槽探工程</a></li>
        <li class="layui-this"><a href="./analysis_2_7.html">浅井工程</a></li>
      </ul>
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          <div class="search-box">
            日期: 
            <input type="text" class="layui-input time-input" id="test1">
            <button class="search-btn">搜索</button>
          </div>
          <div class="echarts-box">
            <div class="echarts-sbox">
              <div class="echarts-title">风险度 <span>（化探完成率）</span></div>
              <div class="echarts" id="echarts_1_1"></div>
            </div>
            <div class="echarts-sbox">
              <div class="echarts-title">风险度 <span>（化探工程）</span></div>
              <div class="echarts" id="echarts_1_2"></div>
            </div>
          </div>
          <table class="we-table">
            <thead>
              <tr>
                <th>
                  <div class="check-item-all ">
                      <input type="checkbox" class="check-all-in" id="all">
                      <label for="all"></label>
                  </div>序号
                </th>
                <th>日期</th>
                <th>项目名称</th>
                <th>化探工程(二级)</th>
                <th>化探完成率(三级)</th>
                <th>备注</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="check-item">
                    <input type="checkbox" class="check-item-in" id="checkbox2">
                    <label for="checkbox2"></label>
                  </div>1
                </td>
                <td>2019-05-20</td>
                <td>1102</td>
                <td>19</td>
                <td>12</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  var echarts_1_1 = echarts.init(document.getElementById('echarts_1_1'));
  var option1_1 = {
      tooltip: {
          trigger: 'item',
      },
      toolbox: {
          show: true,
          top: 10,
          right: 20,
          feature: {
              dataView: {readOnly: false},
              magicType: {type: ['line', 'bar']},
              restore: {},
              saveAsImage: {}
          }
      },
      legend: {
          data: ['化探完成率'],
          itemWidth:13,
          itemHeight:13,
          textStyle:{
              color:'#777'
          },
          top: 10,
          left: 15,
      },
      xAxis: {
          type: 'category',
          data: ['1101', '1142', '932', '1186', '996', 'dqf', '1115','681'],
          axisTick:{
              show:false
          },
          axisLine:{
              lineStyle:{
                  color:'#d8d8d8'
              }
          },
          axisLabel: {
              textStyle: {
                  color: '#333',
                  fontSize: 12,
              },
          }
      },
      yAxis: {
          type: 'value',
          splitLine:{
              show:false
          },
          axisLine:{
              show:false
          },
          axisTick:{
              show:false
          },
          axisLabel: {
              textStyle: {
                  color: '#777',
                  fontSize: 12,
              },
          }
      },
      color:['#32B787 '],
      series: [{ // For shadow
          type: 'bar',
          barWidth:16,
          itemStyle: {
              normal: {
                  color: 'rgba(0,0,0,0.05)',
                  barBorderRadius:8
              },
          },
          barGap:'-100%',
          barCategoryGap:'40%',
          data: [100, 100, 100, 100, 100, 100, 100,100],
          animation: false,
      },
          {
          name:'化探完成率',
          data: [35, 23, 55, 80, 70, 34, 13,20],
          type: 'bar',
          barWidth:16,
          itemStyle: {
              barBorderRadius:8
          },
          }]
  };
  echarts_1_1.setOption(option1_1);
  
  
  var echarts_1_2 = echarts.init(document.getElementById('echarts_1_2'));
  var option1_2 = {
      tooltip: {
          trigger: 'item',
      },
      toolbox: {
          show: true,
          top: 10,
          right: 20,
          feature: {
              dataView: {readOnly: false},
              magicType: {type: ['line', 'bar']},
              restore: {},
              saveAsImage: {}
          }
      },
      legend: {
          data: ['化探工程'],
          itemWidth:13,
          itemHeight:13,
          textStyle:{
              color:'#777'
          },
          top: 10,
          left: 15,
      },
      xAxis: {
          type: 'category',
          data: ['1101', '1142', '932', '1186', '996', 'dqf', '1115','681'],
          axisTick:{
              show:false
          },
          axisLine:{
              lineStyle:{
                  color:'#d8d8d8'
              }
          },
          axisLabel: {
              textStyle: {
                  color: '#333',
                  fontSize: 12,
              },
          }
      },
      yAxis: {
          type: 'value',
          splitLine:{
              show:false
          },
          axisLine:{
              show:false
          },
          axisTick:{
              show:false
          },
          axisLabel: {
              textStyle: {
                  color: '#777',
                  fontSize: 12,
              },
          }
      },
      color:['#2E6DFC '],
      series: [{ // For shadow
          type: 'bar',
          barWidth:16,
          itemStyle: {
              normal: {
                  color: 'rgba(0,0,0,0.05)',
                  barBorderRadius:8
              },
          },
          barGap:'-100%',
          barCategoryGap:'40%',
          data: [100, 100, 100, 100, 100, 100, 100,100],
          animation: false,
      },
          {
              name:'化探工程',
              data: [35, 23, 55, 80, 70, 34, 13,20],
              type: 'bar',
              barWidth:16,
              itemStyle: {
                  barBorderRadius:8
              },
          }]
  };
  echarts_1_2.setOption(option1_2);
  </script>
<script>
  $(function () {

    layui.use('form', function(){
      var form = layui.form;
      
      //监听提交
      form.on('submit(formDemo)', function(data){
        layer.msg(JSON.stringify(data.field));
        return false;
      });
    });
    layui.use('laydate', function(){
      var laydate = layui.laydate;
      
      //执行一个laydate实例
      laydate.render({
        elem: '#test1' //指定元素
      });
    });

    //table checkbox 
    $('.check-all-in').on('click',function(){
        $(this).removeClass('check-half-in');
        var mark=$(this).prop("checked");
        if(mark==true){
            $(".check-item .check-item-in").prop("checked",true);
        }else{
            $(".check-item .check-item-in").prop("checked",false);
        }
    });
    $(".check-item .check-item-in").on('click',function(){
        var checkArr = [];
        $(".check-item .check-item-in").each(function(){
            checkArr.push($(this).prop("checked"));
        })
        var y = checkArr.length;
        var x = checkArr.filter(n=>n===true).length;
        if(x === 0){
            $('.check-all-in').prop("checked",false);
            $('.check-all-in').removeClass('check-half-in');
        }else if(x === y){
            $('.check-all-in').prop("checked",true);
            $('.check-all-in').removeClass('check-half-in');
        }else if(x>0 && x<y){
            $('.check-all-in').addClass('check-half-in');
            $('.check-all-in').prop("checked",false);
        }
    })
  })
</script>

</html>
