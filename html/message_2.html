<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="../layui/css/layui.css">
  <link rel="stylesheet" href="../css/content-style.css">
  <script src="../js/jquery-3.4.1.min.js"></script>
  <script src="../js/echarts.min.js"></script>
  <script src="http://echarts.baidu.com/examples/vendors/echarts/map/js/china.js"></script>
  <script src="http://gallerybox.echartsjs.com/dep/echarts/latest/extension/bmap.min.js"></script>
  <script src="../layui/layui.js"></script>
  <script src="http://api.map.baidu.com/api?v=3.0&ak=haPEFmhfSCqqoQ64VTLtkiVTZBQsqFs3"></script>
</head>
<body>
  <nav>
    <div class="logo">
      <img src="../images/logo .png" alt="">
      <p>地质调查项目<br>
        质量风险评估</p>
    </div>
    <ul class="layui-nav layui-nav-tree layui-nav-side">
      <li class="layui-nav-item"><a href="../index.html">首页</a></li>
      <li class="layui-nav-item"><a class="active" href="message.html">信息查询</a></li>
      <li class="layui-nav-item"><a href="setting.html">指标与权重设置</a></li>
      <li class="layui-nav-item"><a href="./analysis_1/analysis_1_1.html">单项指标分析</a></li>
      <li class="layui-nav-item"><a href="datalist.html">数据列表</a></li>
      <li class="layui-nav-item"><a href="evaluation.html">综合分析评估</a></li>
      <li class="layui-nav-item"><a href="system.html">系统管理</a></li>
    </ul>
  </nav>
  <div class="content">
    <div class="header">
      <ul class="second-tab">
        <li><a href="./message.html">基本信息查询</a></li>
        <li class="active"><a href="./message_2.html">工作进度查询</a></li>
      </ul>
      <div class="user">
        <a href="javascript:;" class="ring"></a>
        <div class="user-pic"></div>
        <div class="user-info">
          <p>Admin</p>
          <p>超级管理员</p>
        </div>
      </div>
    </div>
    <div class="layui-tab layui-tab-brief white_bg">
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          <div class="search-box">
            项目名称:
            <input type="text" class="layui-input inpit_width">
            日期：
            <span>
              <input type="text" class="layui-input time-input" id="date1">
              <span>-</span>
              <input type="text" class="layui-input time-input" id="date2">
            </span>
            <button class="search-btn">搜索</button>
          </div>
          <table class="we-table">
            <thead>
            <tr>
              <th>
                <div class="check-item-all ">
                  <input type="checkbox" class="check-all-in check-all-in-1" id="all">
                  <label for="all"></label>
                </div>序号
              </th>
              <th>项目名称</th>
              <th>日期</th>
              <th>当前进度（%）</th>
              <th>工作内容</th>
              <th>负责人</th>
              <th>联系方式</th>
              <th>是否滞后</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>
                <div class="check-item">
                  <input type="checkbox" class="check-item-in check-item-in-1" id="checkbox2">
                  <label for="checkbox2"></label>
                </div>
                <span>1</span>
              </td>
              <td>1142</td>
              <td>2019-01-1</td>
              <td>80</td>
              <td>探测</td>
              <td>李伟</td>
              <td>10086</td>
              <td>否</td>
            </tr>
            <tr>
              <td>
                <div class="check-item">
                  <input type="checkbox" class="check-item-in check-item-in-1" id="checkbox3">
                  <label for="checkbox3"></label>
                </div>
                <span>2</span>
              </td>
              <td>1142</td>
              <td>2019-01-1</td>
              <td>80</td>
              <td>探测</td>
              <td>李伟</td>
              <td>10086</td>
              <td>否</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</body>


<script>
  $(function () {
    layui.use('form', function(){
      var form = layui.form;

      //监听提交
      form.on('submit(formDemo)', function(data){
        layer.msg(JSON.stringify(data.field));
        return false;
      });
    });
    layui.use('laydate', function(){
      var laydate = layui.laydate;

      //执行一个laydate实例
      laydate.render({
        elem: '#date1' //指定元素
      });
      laydate.render({
        elem: '#date2' //指定元素
      });
    });

    //table checkbox
    $(function(){
      $('.check-all-in').on('click',function(){
        $(this).removeClass('check-half-in');
        var mark=$(this).prop("checked");
        if(mark==true){
          $(".check-item .check-item-in").prop("checked",true);
        }else{
          $(".check-item .check-item-in").prop("checked",false);
        }
      });
      $(".check-item .check-item-in").on('click',function(){
        var checkArr = [];
        $(".check-item .check-item-in").each(function(){
          checkArr.push($(this).prop("checked"));
        })
        var y = checkArr.length;
        var x = checkArr.filter(n=>n===true).length;
        if(x === 0){
          $('.check-all-in').prop("checked",false);
          $('.check-all-in').removeClass('check-half-in');
        }else if(x === y){
          $('.check-all-in').prop("checked",true);
          $('.check-all-in').removeClass('check-half-in');
        }else if(x>0 && x<y){
          $('.check-all-in').addClass('check-half-in');
          $('.check-all-in').prop("checked",false);
        }
      })
    });
  })
</script>

</html>
